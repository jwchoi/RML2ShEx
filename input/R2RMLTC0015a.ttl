@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ex: <http://example.com/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dept: <http://example.com/dept#> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@base <http://example.com/base/> .


<TriplesMap1>
    a rr:TriplesMap;
      
	rr:logicalTable [  rr:sqlQuery """
						SELECT `Code`, `Name`, `Lan`
						FROM `Country`
						WHERE `Lan` = 'EN';
                       """ ] ;
	
    rr:subjectMap [ rr:template "http://example.com/{\"Code\"}" ]; 
	
    rr:predicateObjectMap
    [ 
      rr:predicate	rdfs:label;
      rr:objectMap	[ rr:column "\"Name\""; rr:language "en" ]
    ]
    .
	
<TriplesMap2>
    a rr:TriplesMap;
      
	rr:logicalTable [  rr:sqlQuery """
                       SELECT `Code`, `Name`, `Lan`
                       FROM `Country`
					   WHERE `Lan` = 'ES';
                       """ ] ;
	
    rr:subjectMap [ rr:template "http://example.com/{\"Code\"}" ]; 
	
    rr:predicateObjectMap
    [ 
      rr:predicate rdfs:label;
      rr:objectMap    [ rr:column "\"Name\""; rr:language "es" ]
    ]
    .

<TriplesMap3>
    a rr:TriplesMap;
    rr:logicalTable [ rr:sqlQuery """

        SELECT `EMP`.*, (CASE `job`
            WHEN 'CLERK' THEN 'general-office'
            WHEN 'NIGHTGUARD' THEN 'security'
            WHEN 'ENGINEER' THEN 'engineering'
        END) AS ROLE FROM `EMP`

        """ ];
    rr:subjectMap [
          rr:template "http://data.example.com/employee/{\"empno\"}";
      ];
    rr:predicateObjectMap [
          rr:predicate ex:role;
          rr:objectMap [ rr:template "http://data.example.com/roles/{ROLE}" ];
      ].

<TriplesMap4>
    a rr:TriplesMap;
    rr:logicalTable [ rr:sqlQuery """
       Select CONCAT('Department' , `deptno`) AS deptId
            , `deptno`
            , `dname`
            , `loc`
         from `DEPT`
       """ ];

    rr:subjectMap [ rr:column "deptId"; rr:termType rr:BlankNode;
                    rr:inverseExpression "{\"deptno\"} = substr({deptId},length('Department')+1)"];

    rr:predicateObjectMap
            [
          rr:predicate		dept:deptno ;
          rr:objectMap    [ rr:column "\"deptno\""; rr:datatype xsd:positiveInteger ]
      ];

    rr:predicateObjectMap
            [
          rr:predicate		dept:name ;
          rr:objectMap    [ rr:column "\"dname\"" ]
      ];

    rr:predicateObjectMap
            [
          rr:predicate		dept:location ;
          rr:objectMap    [ rr:column "\"loc\"" ]
      ];

    rr:predicateObjectMap
            [
          rr:predicate		dept:COMPANY ;
          rr:objectMap		[ rr:constant "EXAMPLE Corporation"; ]
      ]
.

<TriplesMap5>
    a rr:TriplesMap;

    rr:logicalTable [ rr:tableName  "\"Student_Sport\"" ];

    rr:subjectMap [ rr:template "http://example.com/{\"Student\"}";
                    rr:class ex:Student;
                    rr:class ex:Site; ];

    rr:predicateObjectMap
            [
          rr:predicate		foaf:name ;
          rr:objectMap		[ rr:column "\"Student\"" ]
      ]
.

<TriplesMap6>
    a rr:TriplesMap;

    rml:logicalSource [
          rml:source "student.csv";
          rml:referenceFormulation ql:CSV
      ];

    rr:subjectMap [ rr:template "http://example.com/resource/student_{ID}" ];

    rr:predicateObjectMap [
          rr:predicate foaf:name ;
          rr:objectMap [ rml:reference "Name" ]
      ] ;

    rr:predicateObjectMap [
          rr:predicate <http://example.com/ontology/practises> ;
          rr:objectMap [
                           a rr:RefObjectMap ;
                           rr:parentTriplesMap <TriplesMap1>;
                           rr:joinCondition [
                                 rr:child "Sport" ;
                                 rr:parent "ID" ;
                             ]
                       ]
      ] .

<TriplesMap7>
    a rr:TriplesMap;

    rml:logicalSource [
          rml:source "sport.csv";
          rml:referenceFormulation ql:CSV
      ];

    rr:subjectMap [ rr:template "http://example.com/resource/sport_{ID}" ];

    rr:predicateObjectMap [
          rr:predicate rdfs:label ;
          rr:objectMap [ rml:reference "Name" ];
      ].